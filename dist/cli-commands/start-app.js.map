{"version":3,"sources":["../../src/cli-commands/start-app.es6"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;IAEqB;;;AAEjB,aAFiB,aAEjB,CAAa,SAAb,EAAwB;8BAFP,eAEO;;sEAFP,0BAIP,YAFc;KAAxB;;iBAFiB;;8BAQV;;AAEH,iBAAK,cAAL,GAFG;;AAIH,iBAAK,iBAAL,GAJG;;;;yCAQW;;AAEd,gBAAI;AACA,qBAAK,SAAL,CAAe,oBAAf,GADA;aAAJ,CAGA,OAAO,KAAP,EAAc;AACV,qBAAK,WAAL,CACI,aADJ,EAEI,6CAFJ,EADU;aAAd;;;;4CASiB;;AAEjB,gBAAI,UAAU,KAAK,SAAL,CAAe,GAAf,CAAmB,SAAnB,CAA6B,IAA7B,CAFG;AAGjB,gBAAI,6BAA2B,2BAA3B,CAHa;;AAKjB,iBAAK,GAAL,CAAS,OAAT,EAAkB,YAAlB,EALiB;;AAOjB,gBAAI;AACA,qBAAK,SAAL,CAAe,GAAf,CAAmB,KAAnB,GADA;aAAJ,CAGA,OAAO,KAAP,EAAc;;AAEV,qBAAK,KAAL,CAAW,KAAX,EAFU;;AAIV,qBAAK,WAAL,CAAiB,MAAM,WAAN,CAAkB,IAAlB,EAAwB,MAAM,OAAN,CAAzC,CAJU;aAAd;;;;oCAUS,WAAW,SAAS;;AAE7B,iBAAK,aAAL,oCACqC,mBAAc,OADnD,EAF6B;;AAM7B,oBAAQ,IAAR,CAAa,CAAb,EAN6B;;;;WAlDhB","file":"start-app.js","sourcesContent":["import CliCommand from './abstract';\n\nexport default class RunAppCommand extends CliCommand {\n\n    constructor (xublitCli) {\n\n        super(xublitCli);\n\n    }\n\n    run () {\n\n        this.assertInAppDir();\n\n        this.attemptToStartApp();\n\n    }\n\n    assertInAppDir () {\n\n        try {\n            this.xublitCli.assertXublitAppInPwd();\n        }\n        catch (error) {\n            this.startFailed(\n                'NotInAppDir', \n                'Xublit application not found in current dir'\n            );\n        }\n\n    }\n\n    attemptToStartApp () {\n\n        let appName = this.xublitCli.app.npmConfig.name;\n        let startMessage = `Starting ${appName} application...`;\n\n        this.log('white', startMessage);\n        \n        try {\n            this.xublitCli.app.start();\n        }\n        catch (error) {\n\n            this.debug(error);\n\n            this.startFailed(error.constructor.name, error.message);\n\n        }\n        \n    }\n\n    startFailed (errorType, message) {\n            \n        this.reportFailure(\n            `Failed to start application - ${errorType}: ${message}`\n        );\n        \n        process.exit(1);\n\n    }\n\n}\n"]}