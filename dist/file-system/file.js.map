{"version":3,"sources":["../../src/file-system/file.es6"],"names":[],"mappings":";;;;;;;;;;IAAY;;;;IACA;;;;;;IAES;AAEjB,aAFiB,IAEjB,CAAa,OAAb,EAAsB;8BAFL,MAEK;;AAElB,kBAAU,IAAV,EAAgB,KAAK,OAAL,CAAa,OAAb,CAAhB,EAFkB;KAAtB;;iBAFiB;;+BAQT,KAAK;AACT,eAAG,IAAH,CAAQ,GAAR,EAAa,KAAb,CAAmB,KAAK,OAAL,CAAnB,CADS;AAET,mBAAO,IAAP,CAFS;;;;sCAKE,QAAQ;AACnB,mBAAO,OAAO,KAAK,QAAL,CAAd,CADmB;;;;WAbN;;;;;;AAmBrB,SAAS,SAAT,CAAoB,IAApB,EAA0B,OAA1B,EAAmC;;AAE/B,QAAI,KAAK,GAAG,QAAH,CAAY,OAAZ,EAAqB,IAArB,CAAL,CAF2B;;AAI/B,WAAO,gBAAP,CAAwB,IAAxB,EAA8B;;AAE1B,iBAAS;AACL,mBAAO,OAAP;SADJ;;AAIA,kBAAU;AACN,iBAAK,eAAY;AACb,uBAAO,GAAG,YAAH,CAAgB,EAAhB,EAAoB,EAAE,UAAU,MAAV,EAAtB,CAAP,CADa;aAAZ;AAGL,iBAAK,aAAU,QAAV,EAAoB;AACrB,mBAAG,aAAH,CAAiB,EAAjB,EAAqB,QAArB,EAA+B,EAAE,UAAU,MAAV,EAAjC,EADqB;AAErB,uBAAO,QAAP,CAFqB;aAApB;SAJT;;AAUA,kBAAU;AACN,mBAAO,KAAK,KAAL,CAAW,OAAX,EAAoB,IAApB;SADX;;KAhBJ,EAJ+B;CAAnC","file":"file.js","sourcesContent":["import * as path from 'path';\nimport * as fs from 'fs';\n\nexport default class File {\n\n    constructor (absPath) {\n\n        initProps(this, path.resolve(absPath));\n\n    }\n\n    append (str) {\n        sh.echo(str).toEnd(this.absPath);\n        return this;\n    }\n\n    parseContents (parser) {\n        return parser(this.contents);\n    }\n\n}\n\nfunction initProps (file, absPath) {\n\n    var fd = fs.openSync(absPath, 'r+');\n\n    Object.defineProperties(file, {\n\n        absPath: {\n            value: absPath,\n        },\n\n        contents: {\n            get: function () {\n                return fs.readFileSync(fd, { encoding: 'utf8' });\n            },\n            set: function (newValue) {\n                fs.writeFileSync(fd, newValue, { encoding: 'utf8' });\n                return newValue;\n            },\n        },\n\n        filename: {\n            value: path.parse(absPath).base,\n        },\n\n    });\n\n}\n"]}