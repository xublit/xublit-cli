{"version":3,"sources":["../../../src/cli-tools/interactive-cli/confirm.es6"],"names":[],"mappings":";;;;;;;;;;IAAY;;;;;;;;;;;;;;;;IAIS;;;AAEjB,aAFiB,OAEjB,CAAa,EAAb,EAAiB,IAAjB,EAAuB;8BAFN,SAEM;;2EAFN,oBAIP,KAFa;;AAInB,eAAO,QAAQ,EAAR,CAJY;;AAMnB,YAAI,0BAA0B,kBAAkB,IAAlB,IAC1B,cAAc,OAAO,KAAK,YAAL,CAPN;;AASnB,YAAI,eAAe,0BAA0B,KAAK,YAAL,GAAoB,IAA9C,CATA;AAUnB,YAAI,SAAS,KAAK,MAAL,CAVM;;AAYnB,iBAAS,OAAO,MAAP,CAAc,GAAd,EAAmB,QAAQ,qBAAR,CAA8B,YAA9B,CAAnB,CAAT,CAZmB;;AAcnB,eAAO,gBAAP,QAA8B;;AAE1B,oBAAQ;AACJ,uBAAO,MAAP;aADJ;;AAIA,0BAAc;AACV,uBAAO,YAAP;aADJ;;SANJ,EAdmB;;;KAAvB;;iBAFiB;;oCA0CJ,WAAW;;;AACpB,mBAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAa;AAC5B,0BAAU,MAAV,CAAiB,OAAK,MAAL,EAAa,UAAC,MAAD,EAAY;;AAEtC,4BAAQ,OAAO,IAAP,GAAc,WAAd,EAAR;AACI,6BAAK,GAAL;AACI,oCAAQ,IAAR,EADJ;AAEI,kCAFJ;AADJ,6BAIS,GAAL;AACI,oCAAQ,KAAR,EADJ;AAEI,kCAFJ;AAJJ;AAQQ,oCAAQ,OAAK,YAAL,CAAR,CADJ;AAEI,kCAFJ;AAPJ,qBAFsC;iBAAZ,CAA9B,CAD4B;aAAb,CAAnB,CADoB;;;;qCAZH,KAAK,cAAc;;AAEpC,gBAAI,SAAS,KAAK,MAAL,CAAY,KAAZ,EAAmB,GAAnB,CAAT,CAFgC;;AAIpC,mBAAO,MAAP,CAJoC;;;;8CAQV,cAAc;AACxC,mBAAO,SAAS,YAAT,GAAwB,OAAxB,GAAkC,OAAlC,CADiC;;;;WAtC3B","file":"confirm.js","sourcesContent":["import * as util from 'util';\n\nimport Interaction from './interaction';\n\nexport default class Confirm extends Interaction {\n\n    constructor (id, opts) {\n        \n        super(id);\n\n        opts = opts || {};\n\n        var hasValidDefaultValueOpt = 'defaultValue' in opts && \n            'boolean' === typeof opts.defaultValue;\n\n        var defaultValue = hasValidDefaultValueOpt ? opts.defaultValue : true;\n        var phrase = opts.phrase;\n\n        phrase = phrase.concat(' ', Confirm.defaultValueIndicator(defaultValue));\n\n        Object.defineProperties(this, {\n\n            phrase: {\n                value: phrase,\n            },\n\n            defaultValue: {\n                value: defaultValue,\n            },\n\n        });\n\n    }\n\n    static createPhrase (key, defaultValue) {\n\n        var phrase = util.format('%s ', key);\n\n        return phrase;\n\n    }\n\n    static defaultValueIndicator (defaultValue) {\n        return true === defaultValue ? '[Y/n]' : '[y/N]';\n    }\n\n    getResponse (commander) {\n        return new Promise((resolve) => {\n            commander.prompt(this.phrase, (result) => {\n\n                switch (result.trim().toLowerCase()) {\n                    case 'y':\n                        resolve(true);\n                        break;\n                    case 'n':\n                        resolve(false);\n                        break;\n                    default:\n                        resolve(this.defaultValue);\n                        break;\n                }\n\n            });\n        });\n    }\n\n}\n"]}